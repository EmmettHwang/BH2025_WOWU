# BH2025 바이오헬스 교육관리 플랫폼

## 📌 버전 정보
- **현재 버전**: v4.5.202601150045
- **최종 업데이트**: 2026년 01월 15일 00시 45분
- **버전 형식**: 메이저.마이너.날짜시간 (예: 4.5.202601150045)

## 🎉 최근 업데이트 (v4.5.202601150045)

### 🗑️ 수정: 과정 삭제 기능 활성화 및 안전장치 추가
- **과정 삭제 기능 복원**
  - 데이터 보호 목적으로 차단되어 있던 삭제 기능 활성화
  - 삭제 시 관련 데이터 자동 처리
  
- **자동 처리되는 데이터**
  - ✅ 시간표 데이터 삭제
  - ✅ 훈련일지 데이터 삭제
  - ✅ 과정-교과목 연결 삭제
  - ✅ 학생 course_id NULL 처리 (학생 데이터는 보존)
  
- **안전장치**
  - 삭제 전 2단계 확인 (상세 경고 메시지)
  - 영향받을 데이터 개수 사전 조회
  - 삭제 결과 상세 통계 표시

---

## 📜 이전 업데이트 (v4.4.202601150030)

### 🎯 복원: 공지사항 반별 등록 및 필터링 기능
- **공지사항 반별 등록**
  - 강사: 공지 등록 시 대상 선택 (전체/특정 반)
  - 반 선택 체크박스 UI 추가
  - 과정 목록 자동 로드
  
- **반별 필터링**
  - 학생: 자신의 반 공지만 표시 (course_id 필터링)
  - 전체 공지는 모든 학생에게 표시
  - 특정 반 공지는 해당 반 학생에게만 표시
  
- **데이터베이스**
  - notices 테이블: target_type, target_courses 컬럼 추가
  - target_type: 'all' (전체) 또는 'courses' (특정 반)
  - target_courses: JSON 배열로 대상 반 목록 저장

---

## 📜 이전 업데이트 (v4.3.202601140745)

### 📊 신규 기능: DB 관리 로그 표시
- **DB 관리 로그 테이블 추가**
  - 백업, 초기화, 복원 작업 이력 표시
  - 작업 시간, 작업자, 결과, 상세 내역, IP 주소 기록
  - 실시간 새로고침 기능
  
- **백엔드 API 추가**
  - GET /api/backup/logs - 관리 로그 조회
  - 최근 30개 로그 표시

---

## 📜 이전 업데이트 (v3.99.202601140615)

### 🔒 개선: 완전 초기화에서도 시스템 설정과 Root 계정 유지
1. **DB 초기화 모드 수정**
   - **일반 초기화** (기본): 시스템 설정, 강사 정보, 과정 정보 유지
     * 삭제: 학생, 시간표, 훈련일지, 수업노트, 상담, 공지사항, 프로젝트, 팀활동일지, 과목, 신규가입신청
     * 유지: system_settings, instructor_codes, courses
   
   - **완전 초기화** (체크박스): Root 제외 모든 강사 + 과정 정보 삭제
     * 삭제: 위 모든 항목 + instructor_codes (Root 제외), instructors, courses
     * 유지: system_settings (시스템 설정), Root 계정

2. **완전 초기화 후에도:**
   - ✅ Root 계정 유지 (로그인 가능)
   - ✅ 시스템 설정 유지 (로고, 파비콘, AI API 키 등)
   - ❌ 모든 강사 정보 삭제 (Root 제외)
   - ❌ 과정 정보 삭제

---

## 📜 이전 업데이트 (v3.98.202601140615)

### 🚨 신규 기능: DB 완전 초기화 옵션 추가
1. **DB 초기화 모드 선택**
   - **일반 초기화** (기본): 시스템 설정, 강사 정보, 과정 정보 유지
   - **완전 초기화** (체크박스): 과정 정보까지 삭제
   
2. **UI 개선**
   - 완전 초기화 체크박스 추가
   - 초기화 타입 표시
   - 성공 메시지에 초기화 타입 명시

---

## 📜 이전 업데이트 (v3.97.202601140530)

### 🔐 신규 기능: DB 초기화 비밀번호 인증 및 로그 기록 시스템
1. **DB 초기화 인증 시스템**
   - 3단계 경고 및 인증 모달
   - 관리자 인증 (강사 이름 + 비밀번호 + 확인 문구)
   
2. **DB 관리 로그 시스템**
   - 새 테이블: `db_management_logs`
   - 성공/실패 기록
   - 작업자, IP 주소, 시간 기록

---

## 📜 이전 업데이트 (v3.96.202601140530)

### 🔐 신규 기능: DB 초기화 비밀번호 인증 및 로그 기록 시스템
1. **DB 초기화 인증 시스템**
   - 3단계 경고 및 인증 모달
   - 관리자 인증 (강사 이름 + 비밀번호 + 확인 문구)
   
2. **DB 관리 로그 시스템**
   - 새 테이블: `db_management_logs`
   - 성공/실패 기록
   - 작업자, IP 주소, 시간 기록

---

## 📜 이전 업데이트 (v3.95.202601140500)

### 🔧 수정: 파비콘 업로드 500 에러 해결
1. **파비콘 업로드 지원 형식 추가**
   - .ico 파일 형식 추가
   - .svg 파일 형식 추가
   - 기존: .png, .jpg, .jpeg 지원
   
2. **업로드 엔드포인트 수정**
   - `/api/upload-image`에서 .ico, .svg 허용
   - 파비콘 업로드 정상 작동

---

## 주요 기능

### 🎓 교육 관리
- **학생 관리**: 학생 정보 등록, 조회, 수정
- **시간표 관리**: 과목별 시간표 작성 및 관리
- **출결 관리**: 훈련일지 기록 및 조회
- **상담 관리**: 학생 상담 기록 및 이력 관리

### 👨‍🏫 강사 관리
- **강사 정보**: 강사 등록 및 프로필 관리
- **권한 관리**: 강사 유형별 메뉴 접근 권한 설정
- **수업 노트**: 강사별 수업 기록 작성

### 📚 과정 관리
- **과정 등록**: 교육 과정 정보 등록
- **과목 관리**: 과정별 과목 설정
- **공휴일 관리**: 휴일 및 공휴일 설정

### 🤖 AI 기능
- **AI 보고서**: 자동 보고서 생성
- **AI 시간표**: 시간표 자동 추천
- **AI 훈련일지**: 훈련 일지 자동 작성 지원
- **AI 상담**: 상담 내용 분석 및 추천

### 🗂️ 프로젝트 관리
- **프로젝트**: 학생 프로젝트 관리
- **팀 활동**: 팀 활동 로그 기록

### ⚙️ 시스템 관리
- **시스템 설정**: 로고, 파비콘, AI API 키 설정
- **백업 관리**: 데이터 백업 및 복원
- **DB 초기화**: 일반 초기화 / 완전 초기화 옵션

---

## 기술 스택

### Backend
- **Python FastAPI**: RESTful API 서버
- **MySQL**: 데이터베이스
- **pymysql**: MySQL 연결
- **ReportLab**: PDF 생성

### Frontend
- **Vanilla JavaScript**: 프론트엔드 로직
- **Bootstrap 5**: UI 프레임워크
- **Chart.js**: 차트 및 그래프
- **Font Awesome**: 아이콘

### AI & External Services
- **OpenAI API**: AI 기능
- **Groq API**: AI 추론
- **Google Gemini**: AI 모델
- **FTP**: 파일 업로드

---

## 프로젝트 구조

```
BH2025_WOWU/
├── backend/
│   └── main.py              # FastAPI 서버
├── frontend/
│   ├── index.html           # 로그인 페이지
│   ├── app.html             # 메인 앱
│   └── app.js               # 프론트엔드 로직
├── .env                     # 환경 변수 (Git 추적 제외)
├── .gitignore               # Git 제외 파일
└── README.md                # 프로젝트 문서
```

---

## 환경 설정

### 필수 환경 변수 (.env 파일)

```env
# Root 관리자 계정
ROOT_USERNAME=your_root_username
ROOT_PASSWORD=your_root_password

# 데이터베이스 설정
DB_HOST=your_db_host
DB_PORT=3306
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_NAME=your_db_name

# FTP 설정
FTP_HOST=your_ftp_host
FTP_PORT=your_ftp_port
FTP_USER=your_ftp_user
FTP_PASSWORD=your_ftp_password
```

**중요**: .env 파일은 Git에 포함되지 않습니다. 서버에서 직접 생성하세요.

---

## 라이선스

Copyright © 2025 BH2025 Team. All rights reserved.
